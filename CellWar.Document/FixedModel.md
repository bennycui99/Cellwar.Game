# chemical系统

       public chemical：地图上的物质

       private chemical：细菌里的物质

物质的属性

	name; count(数量)

   内外的物质的数量会影响基因是否可以运行，也都可以被编码基因改变

# 种族race

- 种族是基因的载体，可以理解为**原始细菌**。玩家进行基因编辑的时候，会先选择种族，并往这个种原始细菌上放基因，生成**自己的细菌strain**。每种原始细菌都带有若干基因，这是由设计人员给他的。

- 种族有以下属性：

- 名称：
种族名称，如“大肠杆菌”

-private chemical：
细菌自带的chemical，用于在刚投放的时候使用，如10×人口的ATP(ATP：细胞内部的专用能源，大部分基因的工作能源）。具体实施方法是在投放细菌后，立刻给他们private chemical增加这些数量的物质

* **长度上限**：
所有的调控和编码基因都有长度，玩家添加基因的长度加起来不能超过该种族的长度上限。否则无法生成细菌。

*   自带基因：
由设计人员设计。和玩家设计基因的方法一样。

注意：

	所有种族的原始细菌，即便玩家不放任何基因，自己也可以靠自带的基因生存。
	原始细菌的基因（调控基因和编码基因）无法被删除，也无法被改变，不会用于计算长度上限。

# 基因系统



## 1编码基因coding gene

     物质的改变速度都是在单位时间（1秒）内的改变量，实际游戏中可以用fixed update进行实时变化

编码基因必须要有调控基因，否则无法运行。不存在单独的编码基因，见“基因编辑”。
编码基因由以下数据组成：

*   长度：

所有的基因都有长度，长度加起来不能超过该种族的长度上限。

*   **减少物质**：

减少**public chemical**和/或本细菌的 **private chemical**，**可多选**，也可为空（则该coding gene为免费生产物质的基因，在特殊情况下使用）。多个减少相同物质的基因可以同时运行。具体的意义在于对物质进行消耗

*   **减少物质量**：

每个“减少物质”都有单独一个“减少量”对应。当相应的物质数量不满足减少量时，**基因停止工作**，即便调控基因满足条件。也可为0（则该coding gene为免费生产物质的基因，在特殊情况下使用）。

该变量具体为多少，则由算式运算得到*

*   增加物质：

增加public chemical和/或本细菌的 private chemical，**可多选**，也可为空（则该coding gene为单纯消耗某物质的基因，在特殊情况下使用）。

*   增加物质量：

每个“增加物质”都有单独一个“增加量”对应。可为0。

该变量具体为多少，则由算式运算得到*

*   人口改变量：

仅在某些控制人口变化的基因中使用，其他基因中该项为0。意义是增加人口数或减少人口数（促进死亡的基因）。

当这个值>0时，这个数值会先乘以（1-扩散比例），再生效。多个控制人口的基因可以同时运行。

该变量具体为多少，则由算式运算得到*

*   扩散基础数：为一个0~1的数。

*   扩散比例：

为一个0~1的数。

这个数乘以**人口改变量**再除以6的结果为周围6个格子的人口增加量。

**人口改变量**为>0时，才进行如上运算。

即便周围的格子数量不为6，也按照这种方法运算。

**       *算式运算：自定义的加减乘除的算式，可以使用常数，并且可以获取“细菌人口”，“public chemical或本细菌的 private chemical数量”**

## 调控基因regulatory gene

调控基因由以下两部分组成：

## 判断条件：

用逻辑运算的方法(and, or, not, >, <)，可以使用常数，并且可以获取“**细菌人口**”，“**public chemical**或本细菌的 **private chemical数量**”。当为true时，开启其下的编码基因。

如 (private.物质A>20 and private.物质B=0）or （public.物质C>100）

调控基因既可以判断**public chemical**也可以判断**private chemical**数量。

## 控制的编码基因：

每个调控基因可以控制**任意的**编码基因。从所有的编码基因库中选择需要的基因，就可以给它加上相应的编码基因。

**注意：**

              不会出现多个调控基因控制同一个编码基因的情况，但是会出现 **一个调控基因控制多个编码基因** 的情况，此时多个编码基因同时工作（但如果缺乏减少物质，照样不会工作）。
       玩家可以重复使用同一个调控基因（虽然没有必要），也可以使**不同的两个或多个调控基因**控制同一种的编码基因（就会出现几个相同的编码基因）。进行操作的时候都要考虑不能超过长度上限。

# 基因编辑流程：

1.选取某一种族的初始细菌

2.添加一个调控基因

3.为这个调控基因添加一个或一系列编码基因

4.删除自己添加过的调控基因（此时其下的编码基因也一并删除）

5.删除自己添加过的编码基因

6.命名并完成（判定长度是否超出长度上限）

# 道具item系统

在游戏中使用，会在奖励、商店中提供（保留功能）

目前的道具只有一种类型：chemical型（包括投放细菌）

Chemical型

机制：在一个选定的格子里面，增加chemical（或细菌）数量。

*   使用次数
*   Chemical种类
*   Chemical数量

投放细菌时，数量始终为100，使用次数为1

# 游戏流程

0.开始游戏，地图上已有的细菌开始运行。

1.选择自己生成的细菌

2.选择投放的格子

3.自己的细菌开始运行

4.投放道具

4.细菌coding基因开始改变地图数据和细菌数据

5.细菌死亡
